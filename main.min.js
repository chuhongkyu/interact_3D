(()=>{"use strict";var e,o={5680:(e,o,t)=>{t(4750),t(4994),t(8821),t(853),t(4845),t(5007),t(9275),t(6364),t(6632),t(1928),t(4883),t(8995);var n=t(6075),i=t(4418);function r(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,o,t){return o&&r(e.prototype,o),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=a((function e(o){var t=this;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.moving=!1,this.lives=3,o.gltfLoader.load(o.modelSrc,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),t.modelMesh=e.scene.children[0],t.modelMesh.position.y=0,t.modelMesh.rotation.x=0,t.modelMesh.name="mario",o.scene.add(t.modelMesh),o.meshes.push(t.modelMesh),t.actions=[],t.mixer=new n.Xcj(t.modelMesh);var i=e.animations[0],r=e.animations[1];t.actions[0]=t.mixer.clipAction(i),t.actions[1]=t.mixer.clipAction(r),t.actions[2]=t.mixer.clipAction(e.animations[2]),t.actions[0].play()}))}));function l(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,o,t){return o&&l(e.prototype,o),t&&l(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=c((function e(o){var t=this;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=o.x,this.y=o.y,this.z=o.z,this.visible=!1,o.gltfLoader.load(o.modelSrc,(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),o.scene.add(t.modelMesh)}))})),h=t(5435);function u(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,o,t){return o&&u(e.prototype,o),t&&u(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=p((function e(o){var t=this;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=o.x,this.y=o.y,this.z=o.z,this.visible=!1,o.gltfLoader.load(o.modelSrc,(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),t.modelMesh.scale.set(.6,.6,.6),o.scene.add(t.modelMesh)}))}));t(6208);function f(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,o,t){return o&&f(e.prototype,o),t&&f(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=w((function e(o){var t=this;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=o.x,this.y=o.y,this.z=o.z,this.visible=!1,o.gltfLoader.load(o.modelSrc,(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),t.modelMesh.scale.set(.2,.2,.2),o.scene.add(t.modelMesh);var i=e.animations;if(i&&i.length){var r=new n.Xcj(t.modelMesh);i.forEach((function(e){var o=r.clipAction(e);o.setLoop(n.jAl,1),o.clampWhenFinished=!0,o.play()})),o.mixers.push(r)}}))}));function y(e,o){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,o){if(!e)return;if("string"==typeof e)return b(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,o)}(e))||o&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw r}}}}function b(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}var M=(new n.dpR).load("/images/bg.png");M.wrapS=n.rpg,M.wrapT=n.rpg,M.repeat.x=10,M.repeat.y=10;var g=document.querySelector("#three-canvas"),x=new n.CP7({canvas:g,antialias:!0});x.setSize(window.innerWidth,window.innerHeight),x.setPixelRatio(window.devicePixelRatio>1?2:1),x.shadowMap.enabled=!0,x.shadowMap.type=n.ntZ;var z=new n.xsS,P=new n.iKG(-window.innerWidth/window.innerHeight,window.innerWidth/window.innerHeight,1,-1,-1e3,1e3),S=new n.Pa4(1,5,5);P.position.set(S.x,S.y,S.z),P.zoom=.2,P.updateProjectionMatrix(),z.add(P);var j=new n.Mig("white",.7);z.add(j);var O=new n.Ox3("white",.5),L=new n.Pa4(1,1,1);O.position.x=L.x,O.position.y=L.y,O.position.z=L.z,O.castShadow=!0,O.shadow.mapSize.width=2048,O.shadow.mapSize.height=2048,O.shadow.camera.left=-100,O.shadow.camera.right=100,O.shadow.camera.top=100,O.shadow.camera.bottom=-100,O.shadow.camera.near=-100,O.shadow.camera.far=100,z.add(O);var E=[],k=new n.Kj0(new n._12(100,100),new n.Wid({map:M}));k.name="floor",k.rotation.x=-Math.PI/2,k.receiveShadow=!0,z.add(k),E.push(k);var A=new n.Kj0(new n._12(.7,.7),new n.vBJ({color:"black",transparent:!0,opacity:.2}));A.rotation.x=-Math.PI/2,A.position.y=.01,A.receiveShadow=!0,z.add(A);var W=new n.Kj0(new n._12(3,3),new n.Wid({color:"yellow",transparent:!0,opacity:.5}));W.position.set(5,.005,5),W.rotation.x=-Math.PI/2,W.receiveShadow=!0,z.add(W);var Z=new n.Kj0(new n._12(3,3),new n.Wid({color:"blue",transparent:!0,opacity:.5}));Z.position.set(-5,.005,5),Z.rotation.x=-Math.PI/2,Z.receiveShadow=!0,z.add(Z);var C,T=new i.E,_=new d({gltfLoader:T,scene:z,modelSrc:"./models/house.glb",x:5,y:-1.3,z:2}),I=new m({gltfLoader:T,scene:z,modelSrc:"./models/hole.glb",x:-9.5,y:-1.8,z:8.5}),H=(new v({gltfLoader:T,scene:z,modelSrc:"./models/coin.glb",x:0,y:1.2,z:0}),new s({scene:z,meshes:E,gltfLoader:T,modelSrc:"./models/mario.glb"}));C=function(){H.actions[2].play();var e=h.ZP.to(H.modelMesh.position,{duration:.2,delay:.5,y:1,ease:"easeOut"});setTimeout((function(){e.reverse(),H.actions[2].stop()}),1100)},document.getElementById("container_ui").querySelector(".__jumping").addEventListener("click",(function(){C()}));var K=new n.iMs,F=new n.FM8,B=new n.Pa4,D=0,R=!1,X=new n.SUY;function q(e){F.x=e.clientX/g.clientWidth*2-1,F.y=-(e.clientY/g.clientHeight*2-1)}window.addEventListener("resize",(function(){P.left=-window.innerWidth/window.innerHeight,P.right=window.innerWidth/window.innerHeight,P.top=1,P.bottom=-1,P.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight),x.render(z,P)})),g.addEventListener("mousedown",(function(e){R=!0,q(e)})),g.addEventListener("mouseup",(function(){R=!1})),g.addEventListener("mousemove",(function(e){R&&q(e)})),g.addEventListener("touchstart",(function(e){R=!0,q(e.touches[0])})),g.addEventListener("touchend",(function(){R=!1})),g.addEventListener("touchmove",(function(e){R&&q(e.touches[0])})),function e(){var o=X.getDelta();H.mixer&&H.mixer.update(o),H.modelMesh&&P.lookAt(H.modelMesh.position),H.modelMesh&&(R&&(K.setFromCamera(F,P),function(){var e,o=y(K.intersectObjects(E));try{for(o.s();!(e=o.n()).done;){var t=e.value;"floor"===t.object.name&&(B.x=t.point.x,B.y=.3,B.z=t.point.z,H.modelMesh.lookAt(B),H.moving=!0,A.position.x=B.x,A.position.z=B.z);break}}catch(e){o.e(e)}finally{o.f()}}()),H.moving?(D=Math.atan2(B.z-H.modelMesh.position.z,B.x-H.modelMesh.position.x),H.modelMesh.position.x+=.05*Math.cos(D),H.modelMesh.position.z+=.05*Math.sin(D),P.position.x=S.x+H.modelMesh.position.x,P.position.z=S.z+H.modelMesh.position.z,H.actions[0].stop(),H.actions[1].play(),Math.abs(B.x-H.modelMesh.position.x)<.03&&Math.abs(B.z-H.modelMesh.position.z)<.03&&(H.moving=!1),Math.abs(Z.position.x-H.modelMesh.position.x)<1.5&&Math.abs(Z.position.z-H.modelMesh.position.z)<1.5?I.visible||(I.visible=!0,Z.material.color.set("skyblue"),h.ZP.to(I.modelMesh.position,{duration:1,y:0,ease:"easeOut"}),h.ZP.to(P.position,{duration:1,y:1})):I.visible&&(I.visible=!1,Z.material.color.set("blue"),h.ZP.to(I.modelMesh.position,{duration:1,y:-1.8}),h.ZP.to(P.position,{duration:1,y:5})),Math.abs(W.position.x-H.modelMesh.position.x)<1.5&&Math.abs(W.position.z-H.modelMesh.position.z)<1.5?_.visible||(_.visible=!0,W.material.color.set("seagreen"),h.ZP.to(_.modelMesh.position,{duration:1,y:1,ease:"Bounce.easeOut"}),h.ZP.to(P.position,{duration:1,y:3})):_.visible&&(_.visible=!1,W.material.color.set("yellow"),h.ZP.to(_.modelMesh.position,{duration:.5,y:-1.3}),h.ZP.to(P.position,{duration:1,y:5}))):(H.actions[1].stop(),H.actions[0].play())),x.render(z,P),x.setAnimationLoop(e)}()}},t={};function n(e){var i=t[e];if(void 0!==i)return i.exports;var r=t[e]={exports:{}};return o[e](r,r.exports,n),r.exports}n.m=o,e=[],n.O=(o,t,i,r)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){for(var[t,i,r]=e[d],s=!0,l=0;l<t.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](t[l])))?t.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var c=i();void 0!==c&&(o=c)}}return o}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,i,r]},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={179:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var i,r,[a,s,l]=t,c=0;if(a.some((o=>0!==e[o]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(o&&o(t);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},t=self.webpackChunkinteract_3D=self.webpackChunkinteract_3D||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var i=n.O(void 0,[362],(()=>n(5680)));i=n.O(i)})();